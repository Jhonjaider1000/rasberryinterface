(this.webpackJsonprasberryfront=this.webpackJsonprasberryfront||[]).push([[0],{104:function(e,n,t){e.exports=t(144)},109:function(e,n,t){},141:function(e,n){},144:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(8),r=t.n(i),l=(t(109),t(91)),c=t(20),s=t(21);function u(){var e=Object(c.a)(["    \n    .hv-100{\n        height: 100vh;\n    }\n    .display-block{\n      display: block;\n    }\n    button{\n      border: none !important;\n    }    \n"]);return u=function(){return e},e}var m=Object(s.a)(u()),d=t(82),f=function(e){var n=e.title,t=void 0===n?"Gensi":n,a=e.children;Object(l.a)(e,["title","children"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,null,o.a.createElement("title",null,t),o.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css",integrity:"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk",crossorigin:"anonymous"}),o.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"})),o.a.createElement(m,null),a)},p=t(45),h=t(27),g=t(90);function v(){var e=Object(c.a)(["\n  display: block;\n  padding: 15px 30px;\n\n  & .temp {\n    pointer-events: none;\n  }\n\n  & .success {\n    background-color: #b3ffca;\n    border-radius: 3px;\n  }\n\n  & .warning {\n    background-color: #fff2b3;\n    border-radius: 3px;\n  }\n\n  & .danger {\n    background-color: #ffb3b3;\n    border-radius: 3px;\n  }\n"]);return v=function(){return e},e}function b(){var e=Object(c.a)(['\n  background-color: #394fe4;\n  //background-image: url("/img/covid-bg.svg");\n  //background-repeat: repeat;\n  //background-position: 0;\n  //background-size: contain cover;\n  width: 100%;\n  min-height: 70px;\n  display: flex;\n  padding: 10px 15px;\n  align-items: center;\n  justify-content: left;\n  & .logo {\n    width: 70px;\n    margin-right: 15px;\n  }\n  & .title {\n    color: #ffffff;\n    font-size: 1.7em;\n    margin: 0;\n  }\n']);return b=function(){return e},e}function E(){var e=Object(c.a)(["\n  background-color: white;\n"]);return E=function(){return e},e}function y(){var e=Object(c.a)(["\n  background-color: blue;\n"]);return y=function(){return e},e}function k(){var e=Object(c.a)(['\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  min-height: 100vh;\n  background-image: url("/img/covid-bg.svg");\n  background-color: #4156fa;\n  background-repeat: repeat;\n  background-position: center;\n  background-size: cover;\n  & .container.custom {\n    max-width: 600px;\n    box-shadow: 0px 0px 3px 3px #293aad;\n    padding: 0px;\n    background-color: #ffffff;\n  }\n']);return k=function(){return e},e}var O=s.b.div(k()),w=(s.b.div(y()),s.b.div(E()),s.b.div(b())),j=s.b.div(v()),x=t(185),N=t(183),S=t(186),W=t(187),z=t(181),C=t(182),R=t(184),T=t(188),U=t(15),q=t(16),L=t(85),M=function(){function e(n,t){Object(U.a)(this,e),this.collection=n,this.config=t}return Object(q.a)(e,[{key:"getURL",value:function(e){return"".concat(this.config.apisURL,"/").concat(this.config.prefix,"/").concat(e)}},{key:"getHeaders",value:function(){return{"Content-Type":"application/json","Array-Wheres":JSON.stringify(Object(L.get)(this.config,"arrayWheres",[]))}}},{key:"checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;throw new Error(e.statusText)}},{key:"parseJSON",value:function(e){return e.json()}},{key:"request",value:function(e){var n=this,t=e.url,a=e.data,o=void 0===a?null:a,i=e.method,r=void 0===i?"GET":i;return new Promise((function(e,a){var i={headers:n.getHeaders(),method:r,body:o?JSON.stringify(o):null};fetch(t,i).then(n.checkStatus).then((function(t){e(n.parseJSON(t))})).catch(a)}))}},{key:"get",value:function(){var e=this.getURL(this.collection);return this.request({url:e})}},{key:"update",value:function(e,n){var t=this.getURL(this.collection);return this.request({url:"".concat(t,"/").concat(n),method:"PUT",data:e})}},{key:"delete",value:function(e){var n=this.getURL(this.collection);return this.request({url:"".concat(n,"/").concat(e),method:"DELETE"})}},{key:"add",value:function(e){var n=this.getURL(this.collection);return this.request({url:"".concat(n),method:"POST",data:e})}}]),e}(),A="AND",I="OR",J=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(U.a)(this,e),this.collection=n,this.config=Object(h.a)({},t),this.config.arrayWheres=[],this}return Object(q.a)(e,[{key:"get",value:function(){var e=new M(this.collection,this.config,this.arrayWheres).get(this.arrayWheres);return e.onSnapshot=function(){},e}},{key:"where",value:function(e,n,t){return this.config.arrayWheres.push({field:e,condition:n,value:t,type:A}),this}},{key:"orWhere",value:function(e,n,t){return this.config.arrayWheres.push({field:e,condition:n,value:t,type:I}),this}},{key:"findById",value:function(e){return this.doc(e)}},{key:"doc",value:function(e){var n=this;return{set:function(t){return new M(n.collection,n.config).update(t,e)},delete:function(){return new M(n.collection,n.config).delete(e)}}}},{key:"set",value:function(e){new M(this.collection,this.config).set()}},{key:"limit",value:function(){}},{key:"groupBy",value:function(){}},{key:"find",value:function(){}},{key:"add",value:function(e){return new M(this.collection,this.config).add(e)}},{key:"update",value:function(e){return this.doc(e)}},{key:"delete",value:function(e){this.doc(e)}}]),e}(),_=function(){function e(n){Object(U.a)(this,e),this.config=n}return Object(q.a)(e,[{key:"collection",value:function(e){if("string"!==typeof e)throw new Error("collection param must be string type.");return new J(e,this.config)}}]),e}(),D=t(86),P=t.n(D),B=null,G=function(e){return B=P()(e)},V=function(e){B.emit("message",e)},F=function(e){B.on("message",(function(n){"function"==typeof e&&e(n)}))},H=new(function(){function e(n){Object(U.a)(this,e),this.url=n}return Object(q.a)(e,[{key:"initializeApp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.config=e,this.config.socket=G(e.socketURL),this.config.sendMessage=V,this.config.onMessage=F}},{key:"database",value:function(){return new _(this.config)}},{key:"socket",value:function(){var e=this;return{sendMessage:function(n){e.config.sendMessage(n)},onMessage:function(n){e.config.onMessage(n)}}}}]),e}()),Y=t(57),K="WELCOME",Q="SET_GROUP",Z="NEW_LAST_USER",$=function(){var e=H.socket(),n=Object(a.useState)({temperatura:"0",documento:"",nombres:"",apellidos:"",eps:"",telefono:"",tipo:"",sintomas:""}),t=Object(g.a)(n,2),i=t[0],r=t[1];Object(a.useEffect)((function(){u()}),[]);var l=function(){var e=function(e){var n={},t=document.createElement("a");t.href=e;for(var a=t.search.substring(1).split("&"),o=0;o<a.length;o++){var i=a[o].split("=");n[i[0]]=decodeURIComponent(i[1])}return n}(window.location.href).device;return e||1},c=function(e){var n=e.target,t=n.name,a=n.value;r(Object(h.a)(Object(h.a)({},i),{},Object(p.a)({},t,a)))},s=function(n){if(console.log(n),n.type===K)e.sendMessage({type:Q,dispositivo:l()});else if(n.type===Z){if(!n.data)return;r(Object(h.a)(Object(h.a)({},i),n.data))}},u=function(){H.initializeApp({apisURL:Y.apiurl,socketURL:Y.socketurl,prefix:"api"}),e.onMessage(s)};return o.a.createElement(O,null,o.a.createElement("div",{className:"container custom"},o.a.createElement(w,null,o.a.createElement("img",{src:"".concat(".","/img/covid-logo.svg"),className:"logo animate__animated animate__bounce"}),o.a.createElement("h1",{className:"title"},"COVID-19 - Analizer")),o.a.createElement(j,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 pb-3"},o.a.createElement(R.a,{severity:"info"},o.a.createElement(T.a,null,"Informaci\xf3n"),"Esta informaci\xf3n solo ser\xe1 usada para efectos de cerco epidemiol\xf3gico por ",o.a.createElement("strong",null,"Covid-19"),".")),o.a.createElement("div",{className:"col-md-4"},o.a.createElement(x.a,{label:"Temperatura",id:"temperatura",margin:"normal",name:"temperatura",value:i.temperatura,fullWidth:!0,size:"small",onChange:c,className:i.temperatura<35?"success temp":i.temperatura>=37?"danger temp":i.temperatura>=35?"warning temp":"temp",variant:"outlined"})),o.a.createElement("div",{className:"col-md-8"},o.a.createElement(x.a,{label:"Documento",id:"documento",name:"documento",margin:"normal",fullWidth:!0,onChange:c,size:"small",value:i.documento,required:!0,variant:"outlined"})),o.a.createElement("div",{className:"col-6"},o.a.createElement(x.a,{label:"Nombres",id:"nombres",name:"nombres",margin:"normal",fullWidth:!0,value:i.nombres,size:"small",onChange:c,required:!0,variant:"outlined"})),o.a.createElement("div",{className:"col-6"},o.a.createElement(x.a,{label:"Apellidos",id:"apellidos",name:"apellidos",value:i.apellidos,margin:"normal",fullWidth:!0,onChange:c,size:"small",required:!0,variant:"outlined"})),o.a.createElement("div",{className:"col-6"},o.a.createElement(x.a,{label:"Tel\xe9fono",id:"telefono",name:"telefono",value:i.telefono,onChange:c,margin:"normal",fullWidth:!0,size:"small",required:!0,variant:"outlined"})),o.a.createElement("div",{className:"col-6"},o.a.createElement(x.a,{label:"EPS",id:"eps",name:"eps",value:i.eps,margin:"normal",fullWidth:!0,onChange:c,size:"small",required:!0,variant:"outlined"})),o.a.createElement("div",{className:"col-6 pt-3"},o.a.createElement(z.a,{variant:"outlined",name:"tipo",fullWidth:!0,size:"small",required:!0},o.a.createElement(S.a,{id:"labelTipo"},"Tipo"),o.a.createElement(N.a,{labelId:"labelTipo",id:"tipo",name:"tipo",fullWidth:!0,size:"small",onChange:c,value:i.tipo,label:"Tipo"},o.a.createElement(W.a,{value:""},o.a.createElement("em",null,"Ninguno")),o.a.createElement(W.a,{value:"E"},"Empleado"),o.a.createElement(W.a,{value:"V"},"Visitante")))),o.a.createElement("div",{className:"col-6 pt-3"},o.a.createElement(z.a,{variant:"outlined",fullWidth:!0,name:"sintomas",size:"small",required:!0},o.a.createElement(S.a,{id:"labelSintomas"},"S\xedntomas"),o.a.createElement(N.a,{labelId:"labelSintomas",id:"sintomas",name:"sintomas",fullWidth:!0,size:"small",value:i.sintomas,onChange:c,label:"S\xedntomas"},o.a.createElement(W.a,{value:"S"},"Con S\xedntomas"),o.a.createElement(W.a,{value:"N"},"S\xedn S\xedntomas")))),o.a.createElement("div",{className:"col-12 pt-3 text-right"},o.a.createElement(C.a,{variant:"contained",size:"large",color:"primary",onClick:function(){var e=H.database(),n=i.temperatura,t=i.documento,a=i.nombres,o=i.apellidos,l=i.eps,c=i.telefono,s=i.tipo,u=i.sintomas,m=function(){e.collection("user").add({temperatura:n,documento:t,nombres:a,apellidos:o,telefono:c,eps:l,tipo:s}).then((function(n){n.code>0&&(e.collection("history").update(i.id).set({sintomas:u}),r({temperatura:"0",documento:"",nombres:"",apellidos:"",eps:"",telefono:"",tipo:"",sintomas:""}))}))};e.collection("user").where("documento","=",t).get().then((function(n){n.code<=0?m():(r({temperatura:"0",documento:"",nombres:"",apellidos:"",eps:"",telefono:"",tipo:"",sintomas:""}),e.collection("history").update(i.id).set({sintomas:u}),r({temperatura:"0",documento:"",nombres:"",apellidos:"",eps:"",telefono:"",tipo:"",sintomas:""}))})).catch((function(){m()}))}},"Enviar"))))))};var X=function(e){return o.a.createElement(f,{title:"COVID-19 Analizer"},o.a.createElement($,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e){e.exports=JSON.parse('{"apiurl":"http://vmi304306.contaboserver.net:82","socketurl":"http://localhost:82/"}')}},[[104,1,2]]]);
//# sourceMappingURL=main.b13b0730.chunk.js.map